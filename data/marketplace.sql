CREATE TABLE IF NOT EXISTS

	brands (
		id INTEGER PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
		name VARCHAR(50) NOT NULL	
	);

CREATE TABLE IF NOT EXISTS

	categories (
		id INTEGER PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
		name TEXT NOT NULL 
	);

CREATE TABLE IF NOT EXISTS

	products (
		id INTEGER PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
		name VARCHAR (100) NOT NULL,
		description VARCHAR (200) NOT NULL,
		price NUMERIC CHECK (price > 0),
		categoryId INTEGER NOT NULL,
		brandId INTEGER NOT NULL,
		imageUrl TEXT NOT NULL,
		created_at TIMESTAMPTZ DEFAULT NOW(),
		updated_at TIMESTAMPTZ DEFAULT NOW(),
		FOREIGN KEY (categoryId) REFERENCES categories,
		FOREIGN KEY (brandId) REFERENCES brands
	);

CREATE TABLE IF NOT EXISTS

	reviews (
		id INTEGER PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
		comments TEXT NOT NULL,
		rate INTEGER NOT NULL CHECK (rate > 0 OR rate < 5 ),
		brandId INTEGER NOT NULL,
		productId INTEGER NOT NULL,
		created_at TIMESTAMPTZ DEFAULT NOW(),
		FOREIGN KEY (brandId) REFERENCES brands,
		FOREIGN KEY (productId) REFERENCES products
	);